---
description: 基于自然语言的功能描述创建或更新功能规范。
---

向你提供的用户输入可以由智能体直接传入，或作为命令参数提供——如果不为空，你在继续执行提示前**必须**予以考虑。

User input:

$ARGUMENTS

在触发消息中，用户在 `/specify` 之后输入的文本**即**为功能描述。即使下方字面出现 `$ARGUMENTS`，也应假定你始终能在本会话中获取该描述。除非用户发起空命令，否则不要要求其重复输入。

基于该功能描述，执行以下操作：

1. 在仓库根目录运行脚本 `.specify/scripts/powershell/create-new-feature.ps1 -Json "$ARGUMENTS"`，解析其 JSON 输出以获取 BRANCH_NAME 与 SPEC_FILE。所有文件路径必须为绝对路径。
  **重要** 该脚本只能运行一次。JSON 将在终端输出——始终依赖该输出获取所需实际内容。
2. 加载 `.specify/templates/spec-template.md` 以理解必需章节。
3. 按模板结构将规范写入 SPEC_FILE，用从功能描述（参数）中推导的具体细节替换占位符，同时保留章节顺序与标题。
4. 报告完成信息：包含分支名、规范文件路径及下一阶段准备情况。

注意：脚本会创建并切换到新分支，并在写入前初始化规范文件。
